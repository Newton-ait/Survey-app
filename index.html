<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Transportation Research Survey</title>
    <style>
        * { margin:0; padding:0; box-sizing:border-box; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
        :root {
            --primary: #2c5aa0; --primary-light: #4a76c4; --secondary: #f8a41c;
            --dark: #333; --light: #f5f5f5; --gray: #e0e0e0;
        }
        body { background-color:#f9f9f9; color:var(--dark); line-height:1.6; }
        .container { max-width:900px; margin:0 auto; padding:20px; }
        header { background:linear-gradient(135deg,var(--primary),var(--primary-light)); color:#fff; padding:2rem 1rem; text-align:center; border-radius:0 0 10px 10px; box-shadow:0 4px 12px rgba(0,0,0,0.1); }
        header h1{ font-size:2.2rem; margin-bottom:.5rem; }
        .intro-section{ background:#fff; padding:2rem; margin:2rem 0; border-radius:10px; box-shadow:0 2px 10px rgba(0,0,0,0.05); border-left:5px solid var(--secondary); }
        .survey-type-selector{ display:flex; gap:1rem; margin:2rem 0; flex-wrap:wrap; }
        .survey-card{ flex:1; min-width:300px; background:#fff; border-radius:10px; overflow:hidden; box-shadow:0 4px 8px rgba(0,0,0,0.1); transition:transform .3s ease; cursor:pointer; }
        .survey-card:hover{ transform:translateY(-5px); }
        .survey-header{ background:var(--primary); color:#fff; padding:1.5rem; text-align:center; }
        .survey-content{ padding:1.5rem; }
        .btn{ display:inline-block; background:var(--primary); color:white; padding:.8rem 1.5rem; border:none; border-radius:5px; font-size:1rem; cursor:pointer; text-decoration:none; text-align:center; }
        .btn:hover{ background:var(--primary-light); }
        .btn-secondary{ background:var(--secondary); color:#222; }
        .survey-form{ background:#fff; padding:2rem; margin:2rem 0; border-radius:10px; box-shadow:0 2px 10px rgba(0,0,0,0.05); }
        .form-group{ margin-bottom:1.5rem; }
        label{ display:block; margin-bottom:.5rem; font-weight:600; color:var(--dark); }
        input[type="text"], input[type="email"], select, textarea { width:100%; padding:.8rem; border:1px solid var(--gray); border-radius:5px; font-size:1rem; }
        .radio-group, .checkbox-group { display:flex; flex-direction:column; gap:.5rem; }
        .radio-option, .checkbox-option { display:flex; align-items:center; gap:.5rem; }
        .progress-bar{ height:8px; background:var(--gray); border-radius:4px; margin:2rem 0; overflow:hidden; }
        .progress{ height:100%; background:var(--primary); width:0%; transition:width .5s ease; }
        .form-navigation{ display:flex; justify-content:space-between; margin-top:2rem; }
        .hidden{ display:none; }
        .thank-you{ text-align:center; padding:3rem; background:#fff; border-radius:10px; box-shadow:0 2px 10px rgba(0,0,0,0.05); }
        .thank-you h2{ color:var(--primary); margin-bottom:1rem; }
        footer{ text-align:center; padding:2rem 0; color:#666; font-size:.9rem; }
        @media (max-width:768px){ .survey-type-selector{ flex-direction:column; } .survey-card{ min-width:100%; } }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <h1>Transportation Research Survey</h1>
            <p>Understanding travel habits and challenges in Uganda</p>
        </div>
    </header>

    <div class="container">
        <section class="intro-section">
            <h2>Welcome to Our Research Study</h2>
            <p>This research is conducted to study the transportation and travel habits in Uganda for a university project.</p>
            <p>This survey aims to understand the current travel experiences, challenges, and preferences of people in Uganda. Your participation will contribute valuable insights to this research.</p>
            <p>The survey will take approximately <strong>5-7 minutes</strong> to complete. All responses are <strong>anonymous and confidential</strong>.</p>
        </section>

        <section class="survey-type-selector">
            <div class="survey-card" id="passenger-survey">
                <div class="survey-header"><h3>Passenger Survey</h3></div>
                <div class="survey-content">
                    <p>This survey is for people who travel as passengers on long-distance trips.</p>
                    <ul>
                        <li>Your travel frequency and reasons</li>
                        <li>Current transportation methods</li>
                        <li>Challenges you face</li>
                        <li>Preferences for future travel options</li>
                    </ul>
                    <button class="btn" id="start-passenger">Start Passenger Survey</button>
                </div>
            </div>

            <div class="survey-card" id="driver-survey">
                <div class="survey-header"><h3>Driver Survey</h3></div>
                <div class="survey-content">
                    <p>This survey is for people who drive on long-distance trips.</p>
                    <ul>
                        <li>Your travel patterns</li>
                        <li>Car usage and availability</li>
                        <li>Interest in ride-sharing</li>
                        <li>Concerns and preferences</li>
                    </ul>
                    <button class="btn btn-secondary" id="start-driver">Start Driver Survey</button>
                </div>
            </div>
        </section>

        <!-- Passenger Form -->
        <form id="passenger-form" class="survey-form hidden" action="https://formspree.io/f/xwpwvbde" method="POST">
            <input type="hidden" name="survey-type" value="passenger">
            <div class="progress-bar"><div class="progress" id="passenger-progress"></div></div>

            <div class="form-step" id="passenger-step-1">
                <div class="form-group">
                    <label for="passenger-age">1. Which of these age groups do you fall into?</label>
                    <select id="passenger-age" name="passenger-age" required>
                        <option value="" disabled selected>Select your age group</option>
                        <option value="18-24">18-24</option>
                        <option value="25-34">25-34</option>
                        <option value="35-44">35-44</option>
                        <option value="45+">45+</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>2. How often do you typically make a long-distance trip (e.g., Kampala to Gulu, Mbarara, Mbale, etc.)?</label>
                    <div class="radio-group">
                        <label class="radio-option"><input type="radio" name="passenger-frequency" value="Once a week" required> Once a week</label>
                        <label class="radio-option"><input type="radio" name="passenger-frequency" value="2-3 times a month"> 2-3 times a month</label>
                        <label class="radio-option"><input type="radio" name="passenger-frequency" value="Once a month"> Once a month</label>
                        <label class="radio-option"><input type="radio" name="passenger-frequency" value="A few times a year"> A few times a year</label>
                        <label class="radio-option"><input type="radio" name="passenger-frequency" value="Rarely"> Rarely</label>
                    </div>
                </div>
                <div class="form-navigation"><button type="button" class="btn" id="passenger-next-1">Next</button></div>
            </div>

            <div class="form-step hidden" id="passenger-step-2">
                <div class="form-group">
                    <label>3. What is your most common reason for long-distance travel? (Select all that apply)</label>
                    <div class="checkbox-group">
                        <label class="checkbox-option"><input type="checkbox" name="passenger-reason" value="Visiting Family"> Visiting Family</label>
                        <label class="checkbox-option"><input type="checkbox" name="passenger-reason" value="Work/Business"> Work/Business</label>
                        <label class="checkbox-option"><input type="checkbox" name="passenger-reason" value="School/University"> School/University</label>
                        <label class="checkbox-option"><input type="checkbox" name="passenger-reason" value="Special Events"> Special Events (weddings, funerals)</label>
                        <label class="checkbox-option">Other: <input type="text" name="passenger-reason-other"></label>
                    </div>
                </div>
                <div class="form-group">
                    <label>4. What is your PRIMARY mode of transport for these long trips?</label>
                    <div class="radio-group">
                        <label class="radio-option"><input type="radio" name="passenger-transport" value="Public Bus" required> Public Bus</label>
                        <label class="radio-option"><input type="radio" name="passenger-transport" value="Shared Taxi"> Shared Taxi</label>
                        <label class="radio-option"><input type="radio" name="passenger-transport" value="Boda Boda"> Boda Boda</label>
                        <label class="radio-option"><input type="radio" name="passenger-transport" value="Private Car"> Private Car</label>
                        <label class="radio-option"><input type="radio" name="passenger-transport" value="Hiring a car"> Hiring a car</label>
                        <label class="radio-option">Other: <input type="text" name="passenger-transport-other"></label>
                    </div>
                </div>
                <div class="form-navigation">
                    <button type="button" class="btn" id="passenger-prev-2">Previous</button>
                    <button type="button" class="btn" id="passenger-next-2">Next</button>
                </div>
            </div>

            <div class="form-step hidden" id="passenger-step-3">
                <div class="form-group">
                    <label>5. On a scale of 1 (Very Dissatisfied) to 5 (Very Satisfied), how would you rate your experience with your primary mode of transport?</label>
                    <div class="rating-scale" style="display:flex;justify-content:space-between; margin-top:.5rem;">
                        <div class="rating-option"><label>1</label><input type="radio" name="passenger-satisfaction" value="1" required></div>
                        <div class="rating-option"><label>2</label><input type="radio" name="passenger-satisfaction" value="2"></div>
                        <div class="rating-option"><label>3</label><input type="radio" name="passenger-satisfaction" value="3"></div>
                        <div class="rating-option"><label>4</label><input type="radio" name="passenger-satisfaction" value="4"></div>
                        <div class="rating-option"><label>5</label><input type="radio" name="passenger-satisfaction" value="5"></div>
                    </div>
                </div>
                <div class="form-group">
                    <label>6. What are the biggest FRUSTRATIONS or challenges you face? (Select up to 3)</label>
                    <div class="checkbox-group">
                        <label class="checkbox-option"><input type="checkbox" name="passenger-frustrations" value="Unreliable schedules"> Unreliable schedules / long waiting times</label>
                        <label class="checkbox-option"><input type="checkbox" name="passenger-frustrations" value="Overcrowding"> Overcrowding</label>
                        <label class="checkbox-option"><input type="checkbox" name="passenger-frustrations" value="Safety concerns"> Safety concerns</label>
                        <label class="checkbox-option"><input type="checkbox" name="passenger-frustrations" value="High cost"> High cost</label>
                        <label class="checkbox-option"><input type="checkbox" name="passenger-frustrations" value="Inconvenience"> Inconvenience</label>
                        <label class="checkbox-option"><input type="checkbox" name="passenger-frustrations" value="Lack of flexibility"> Lack of flexibility</label>
                        <label class="checkbox-option">Other: <input type="text" name="passenger-frustrations-other"></label>
                    </div>
                </div>
                <div class="form-navigation">
                    <button type="button" class="btn" id="passenger-prev-3">Previous</button>
                    <button type="button" class="btn" id="passenger-next-3">Next</button>
                </div>
            </div>

            <div class="form-step hidden" id="passenger-step-4">
                <div class="form-group">
                    <label>7. How important would the following features be to you? (1-Not Important to 5-Very Important)</label>
                    <p>Knowing the driver's identity and car details in advance:</p>
                    <div class="rating-scale" style="display:flex;justify-content:space-between;">
                        <div class="rating-option"><label>1</label><input type="radio" name="feature-driver" value="1" required></div>
                        <div class="rating-option"><label>2</label><input type="radio" name="feature-driver" value="2"></div>
                        <div class="rating-option"><label>3</label><input type="radio" name="feature-driver" value="3"></div>
                        <div class="rating-option"><label>4</label><input type="radio" name="feature-driver" value="4"></div>
                        <div class="rating-option"><label>5</label><input type="radio" name="feature-driver" value="5"></div>
                    </div>
                    <p>Being picked up and dropped off at a specific location (door-to-door):</p>
                    <div class="rating-scale" style="display:flex;justify-content:space-between;">
                        <div class="rating-option"><label>1</label><input type="radio" name="feature-door" value="1" required></div>
                        <div class="rating-option"><label>2</label><input type="radio" name="feature-door" value="2"></div>
                        <div class="rating-option"><label>3</label><input type="radio" name="feature-door" value="3"></div>
                        <div class="rating-option"><label>4</label><input type="radio" name="feature-door" value="4"></div>
                        <div class="rating-option"><label>5</label><input type="radio" name="feature-door" value="5"></div>
                    </div>
                </div>
                <div class="form-navigation">
                    <button type="button" class="btn" id="passenger-prev-4">Previous</button>
                    <button type="button" class="btn" id="passenger-next-4">Next</button>
                </div>
            </div>

            <div class="form-step hidden" id="passenger-step-5">
                <div class="form-group">
                    <label>8. If there was a safe, reliable way to book a seat in a private car for a price similar to a bus ticket, how likely would you be to try it?</label>
                    <div class="radio-group">
                        <label class="radio-option"><input type="radio" name="passenger-likely" value="Very Likely" required> Very Likely</label>
                        <label class="radio-option"><input type="radio" name="passenger-likely" value="Somewhat Likely"> Somewhat Likely</label>
                        <label class="radio-option"><input type="radio" name="passenger-likely" value="Neutral"> Neutral</label>
                        <label class="radio-option"><input type="radio" name="passenger-likely" value="Somewhat Unlikely"> Somewhat Unlikely</label>
                        <label class="radio-option"><input type="radio" name="passenger-likely" value="Very Unlikely"> Very Unlikely</label>
                    </div>
                </div>
                <div class="form-navigation">
                    <button type="button" class="btn" id="passenger-prev-5">Previous</button>
                    <button type="submit" class="btn">Submit Survey</button>
                </div>
            </div>
        </form>

        <!-- Driver Form -->
        <form id="driver-form" class="survey-form hidden" action="https://formspree.io/f/meopekbv" method="POST">
            <input type="hidden" name="survey-type" value="driver">
            <div class="progress-bar"><div class="progress" id="driver-progress"></div></div>

            <!-- Step 0: Driver validation -->
            <div class="form-step" id="driver-step-0">
                <div class="form-group">
                    <label>1. Do you currently drive on long-distance trips (e.g., Kampalaâ€“Gulu, Mbarara, Mbale)?</label>
                    <div class="radio-group">
                        <label class="radio-option"><input type="radio" name="driver-currently-drives" value="Yes" required> Yes, I drive such trips myself</label>
                        <label class="radio-option"><input type="radio" name="driver-currently-drives" value="Sometimes"> Sometimes, depending on the situation</label>
                        <label class="radio-option"><input type="radio" name="driver-currently-drives" value="No"> No, I don't usually drive those trips</label>
                    </div>
                </div>
                <div class="form-navigation"><button type="button" class="btn" id="driver-next-0">Next</button></div>
            </div>

            <!-- Step 1: Car access -->
            <div class="form-step hidden" id="driver-step-1">
                <div class="form-group">
                    <label>2. Do you own or have regular access to a private car?</label>
                    <div class="radio-group">
                        <label class="radio-option"><input type="radio" name="driver-car-access" value="Yes" required> Yes</label>
                        <label class="radio-option"><input type="radio" name="driver-car-access" value="No"> No</label>
                    </div>
                </div>
                <div class="form-navigation"><button type="button" class="btn" id="driver-next-1">Next</button></div>
            </div>

            <!-- Step 2: Travel frequency -->
            <div class="form-step hidden" id="driver-step-2">
                <div class="form-group">
                    <label>3. How often do you make long-distance trips (e.g., 50km or more) in your car?</label>
                    <div class="radio-group">
                        <label class="radio-option"><input type="radio" name="driver-frequency" value="Once a week or more" required> Once a week or more</label>
                        <label class="radio-option"><input type="radio" name="driver-frequency" value="2-3 times a month"> 2-3 times a month</label>
                        <label class="radio-option"><input type="radio" name="driver-frequency" value="Once a month"> Once a month</label>
                        <label class="radio-option"><input type="radio" name="driver-frequency" value="A few times a year"> A few times a year</label>
                    </div>
                </div>

                <div class="form-group">
                    <label>4. What is the most common reason for your long-distance trips?</label>
                    <div class="radio-group">
                        <label class="radio-option"><input type="radio" name="driver-reason" value="Work/Business Commute" required> Work/Business Commute</label>
                        <label class="radio-option"><input type="radio" name="driver-reason" value="Visiting Family/Friends"> Visiting Family/Friends</label>
                        <label class="radio-option"><input type="radio" name="driver-reason" value="Personal Errands"> Personal Errands</label>
                        <label class="checkbox-option">Other: <input type="text" name="driver-reason-other"></label>
                    </div>
                </div>

                <div class="form-navigation">
                    <button type="button" class="btn" id="driver-prev-2">Previous</button>
                    <button type="button" class="btn" id="driver-next-2">Next</button>
                </div>
            </div>

            <!-- Step 3: Empty seats frequency and prior lifts -->
            <div class="form-step hidden" id="driver-step-3">
                <div class="form-group">
                    <label>5. When you make these trips, how often do you have empty seats in your car?</label>
                    <div class="radio-group">
                        <label class="radio-option"><input type="radio" name="driver-empty-seats" value="Almost Always" required> Almost Always</label>
                        <label class="radio-option"><input type="radio" name="driver-empty-seats" value="Often"> Often</label>
                        <label class="radio-option"><input type="radio" name="driver-empty-seats" value="Sometimes"> Sometimes</label>
                        <label class="radio-option"><input type="radio" name="driver-empty-seats" value="Rarely"> Rarely</label>
                        <label class="radio-option"><input type="radio" name="driver-empty-seats" value="Never"> Never</label>
                    </div>
                </div>

                <div class="form-group">
                    <label>6. Have you ever given a lift to someone you didn't know well for a long-distance trip?</label>
                    <div class="radio-group">
                        <label class="radio-option"><input type="radio" name="driver-given-lift" value="Yes" required> Yes</label>
                        <label class="radio-option"><input type="radio" name="driver-given-lift" value="No"> No</label>
                    </div>
                </div>

                <div class="form-navigation">
                    <button type="button" class="btn" id="driver-prev-3">Previous</button>
                    <button type="button" class="btn" id="driver-next-3">Next</button>
                </div>
            </div>

            <!-- Step 4: Interest in ride-sharing -->
            <div class="form-step hidden" id="driver-step-4">
                <div class="form-group">
                    <label>7. If you could safely and easily find people heading the same way as you, how interested would you be in offering them a ride to share fuel costs?</label>
                    <div class="radio-group">
                        <label class="radio-option"><input type="radio" name="driver-interest-share" value="Very Interested" required> Very Interested</label>
                        <label class="radio-option"><input type="radio" name="driver-interest-share" value="Somewhat Interested"> Somewhat Interested</label>
                        <label class="radio-option"><input type="radio" name="driver-interest-share" value="Neutral"> Neutral</label>
                        <label class="radio-option"><input type="radio" name="driver-interest-share" value="Not Very Interested"> Not Very Interested</label>
                        <label class="radio-option"><input type="radio" name="driver-interest-share" value="Not Interested at All"> Not Interested at All</label>
                    </div>
                </div>
                <div class="form-navigation">
                    <button type="button" class="btn" id="driver-prev-4">Previous</button>
                    <button type="button" class="btn" id="driver-next-4">Next</button>
                </div>
            </div>

            <!-- Step 5: Concerns (select up to 3) -->
            <div class="form-step hidden" id="driver-step-5">
                <div class="form-group">
                    <label>8. What would be your biggest CONCERNS about offering rides to people? (Select up to 3)</label>
                    <div class="checkbox-group">
                        <label class="checkbox-option"><input type="checkbox" name="driver-concerns" value="Safety & Security"> Safety & Security (picking up a stranger)</label>
                        <label class="checkbox-option"><input type="checkbox" name="driver-concerns" value="Reliability of passengers"> Reliability of passengers (no-shows)</label>
                        <label class="checkbox-option"><input type="checkbox" name="driver-concerns" value="Payment issues"> Payment issues (haggling, not paying)</label>
                        <label class="checkbox-option"><input type="checkbox" name="driver-concerns" value="Inconvenience"> Inconvenience (going out of my route)</label>
                        <label class="checkbox-option"><input type="checkbox" name="driver-concerns" value="Liability"> Liability in case of an accident</label>
                        <label class="checkbox-option">Other: <input type="text" name="driver-concerns-other"></label>
                    </div>
                </div>
                <div class="form-navigation">
                    <button type="button" class="btn" id="driver-prev-5">Previous</button>
                    <button type="button" class="btn" id="driver-next-5">Next</button>
                </div>
            </div>

            <!-- Step 6: Comfort features (select all that apply) -->
            <div class="form-step hidden" id="driver-step-6">
                <div class="form-group">
                    <label>9. What features would make you feel comfortable sharing a ride? (Select all that apply)</label>
                    <div class="checkbox-group">
                        <label class="checkbox-option"><input type="checkbox" name="driver-features" value="Knowing identity"> Knowing the passenger's identity in advance</label>
                        <label class="checkbox-option"><input type="checkbox" name="driver-features" value="Confirmed payment"> Having a confirmed payment before the trip</label>
                        <label class="checkbox-option"><input type="checkbox" name="driver-features" value="Choose passengers"> Being able to choose my passengers</label>
                        <label class="checkbox-option"><input type="checkbox" name="driver-features" value="Vetting"> A system that vets both drivers and passengers</label>
                        <label class="checkbox-option"><input type="checkbox" name="driver-features" value="Clear rules"> Clear rules and terms of service</label>
                    </div>
                </div>
                <div class="form-navigation">
                    <button type="button" class="btn" id="driver-prev-6">Previous</button>
                    <button type="submit" class="btn">Submit Survey</button>
                </div>
            </div>
        </form>

        <div id="thank-you" class="thank-you hidden">
            <h2>Thank You for Your Participation!</h2>
            <p>Your responses have been recorded and will contribute valuable insights to our research on transportation in Uganda.</p>
            <p>Your time and input are greatly appreciated!</p>
            <button class="btn" id="new-survey">Take Another Survey</button>
        </div>
    </div>

    <footer><div class="container"><p>Transportation Research Survey &copy; 2025 | All responses are anonymous and confidential</p></div></footer>




<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Passenger steps
        const passengerSteps = Array.from(document.querySelectorAll('#passenger-form .form-step'));
        
        function showPassengerStep(step) {
            passengerSteps.forEach((el, i) => el.classList.toggle('hidden', i !== step));
            const progress = ((step + 1) / passengerSteps.length) * 100;
            document.getElementById('passenger-progress').style.width = progress + '%';
        }
        
        // Passenger navigation
        document.getElementById('start-passenger').addEventListener('click', function() {
            document.querySelector('.survey-type-selector').classList.add('hidden');
            document.getElementById('passenger-form').classList.remove('hidden');
            showPassengerStep(0);
        });
        
        document.getElementById('passenger-next-1').addEventListener('click', function() {
            // Validate step 1 before proceeding
            const ageSelected = document.getElementById('passenger-age').value !== '';
            const frequencySelected = document.querySelector('input[name="passenger-frequency"]:checked');
            
            if (!ageSelected || !frequencySelected) {
                alert('Please answer all questions before continuing.');
                return;
            }
            showPassengerStep(1);
        });
        
        document.getElementById('passenger-next-2').addEventListener('click', function() {
            // Validate step 2
            const transportSelected = document.querySelector('input[name="passenger-transport"]:checked');
            if (!transportSelected) {
                alert('Please select your primary mode of transport.');
                return;
            }
            showPassengerStep(2);
        });
        
        document.getElementById('passenger-next-3').addEventListener('click', function() {
            // Validate step 3
            const satisfactionSelected = document.querySelector('input[name="passenger-satisfaction"]:checked');
            if (!satisfactionSelected) {
                alert('Please rate your satisfaction level.');
                return;
            }
            showPassengerStep(3);
        });
        
        document.getElementById('passenger-next-4').addEventListener('click', function() {
            // Validate step 4
            const featureDriver = document.querySelector('input[name="feature-driver"]:checked');
            const featureDoor = document.querySelector('input[name="feature-door"]:checked');
            
            if (!featureDriver || !featureDoor) {
                alert('Please rate both features.');
                return;
            }
            showPassengerStep(4);
        });

        document.getElementById('passenger-prev-2').addEventListener('click', () => showPassengerStep(0));
        document.getElementById('passenger-prev-3').addEventListener('click', () => showPassengerStep(1));
        document.getElementById('passenger-prev-4').addEventListener('click', () => showPassengerStep(2));
        document.getElementById('passenger-prev-5').addEventListener('click', () => showPassengerStep(3));

        // Passenger Form Submission - WITH VALIDATION
        document.getElementById('passenger-form').addEventListener('submit', function(e) {
            // Validate final step
            const likelySelected = document.querySelector('input[name="passenger-likely"]:checked');
            
            if (!likelySelected) {
                alert('Please answer the final question before submitting.');
                e.preventDefault(); // Stop submission
                return;
            }
            
            // If all validation passes, show thank you message
            document.getElementById('passenger-form').classList.add('hidden');
            document.getElementById('thank-you').classList.remove('hidden');
            
            // Form will automatically submit to Formspree (no e.preventDefault())
        });

        // Driver steps
        const driverSteps = Array.from(document.querySelectorAll('#driver-form .form-step'));
        
        function showDriverStep(step) {
            driverSteps.forEach((el, i) => el.classList.toggle('hidden', i !== step));
            const progress = ((step + 1) / driverSteps.length) * 100;
            document.getElementById('driver-progress').style.width = progress + '%';
        }
        
        // Driver navigation
        document.getElementById('start-driver').addEventListener('click', function() {
            document.querySelector('.survey-type-selector').classList.add('hidden');
            document.getElementById('driver-form').classList.remove('hidden');
            showDriverStep(0);
        });

        document.getElementById('driver-next-0').addEventListener('click', function() {
            const driveStatus = document.querySelector('input[name="driver-currently-drives"]:checked');
            if (!driveStatus) {
                alert('Please select an option to continue.');
                return;
            }
            if (driveStatus.value === 'No') {
                document.getElementById('driver-form').classList.add('hidden');
                document.getElementById('thank-you').classList.remove('hidden');
            } else {
                showDriverStep(1);
            }
        });

        document.getElementById('driver-next-1').addEventListener('click', function() {
            const access = document.querySelector('input[name="driver-car-access"]:checked');
            if (!access) {
                alert('Please indicate if you have access to a car.');
                return;
            }
            if (access.value === 'No') {
                document.getElementById('driver-form').classList.add('hidden');
                document.getElementById('thank-you').classList.remove('hidden');
            } else {
                showDriverStep(2);
            }
        });

        // Driver step navigation with validation
        document.getElementById('driver-next-2').addEventListener('click', function() {
            const frequency = document.querySelector('input[name="driver-frequency"]:checked');
            const reason = document.querySelector('input[name="driver-reason"]:checked');
            
            if (!frequency || !reason) {
                alert('Please answer both questions before continuing.');
                return;
            }
            showDriverStep(3);
        });

        document.getElementById('driver-next-3').addEventListener('click', function() {
            const emptySeats = document.querySelector('input[name="driver-empty-seats"]:checked');
            const givenLift = document.querySelector('input[name="driver-given-lift"]:checked');
            
            if (!emptySeats || !givenLift) {
                alert('Please answer both questions before continuing.');
                return;
            }
            showDriverStep(4);
        });

        document.getElementById('driver-next-4').addEventListener('click', function() {
            const interest = document.querySelector('input[name="driver-interest-share"]:checked');
            if (!interest) {
                alert('Please indicate your interest level.');
                return;
            }
            showDriverStep(5);
        });

        document.getElementById('driver-next-5').addEventListener('click', function() {
            // No validation needed for concerns (they're optional)
            showDriverStep(6);
        });

        document.getElementById('driver-prev-2').addEventListener('click', () => showDriverStep(1));
        document.getElementById('driver-prev-3').addEventListener('click', () => showDriverStep(2));
        document.getElementById('driver-prev-4').addEventListener('click', () => showDriverStep(3));
        document.getElementById('driver-prev-5').addEventListener('click', () => showDriverStep(4));
        document.getElementById('driver-prev-6').addEventListener('click', () => showDriverStep(5));

        // Driver Form Submission - WITH VALIDATION
        document.getElementById('driver-form').addEventListener('submit', function(e) {
            // Validate final step (features question)
            const features = document.querySelectorAll('input[name="driver-features"]:checked');
            
            // Features are optional, so no validation needed
            
            // If all validation passes, show thank you message
            document.getElementById('driver-form').classList.add('hidden');
            document.getElementById('thank-you').classList.remove('hidden');
            
            // Form will automatically submit to Formspree (no e.preventDefault())
        });

        // New survey button
        document.getElementById('new-survey').addEventListener('click', function() {
            document.getElementById('thank-you').classList.add('hidden');
            document.querySelector('.survey-type-selector').classList.remove('hidden');
            document.querySelectorAll('form').forEach(form => {
                form.reset();
                form.classList.add('hidden');
            });
            document.getElementById('passenger-progress').style.width = '0%';
            document.getElementById('driver-progress').style.width = '0%';
        });
    });
</script>
</body>
</html>